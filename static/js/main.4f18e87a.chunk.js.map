{"version":3,"sources":["YatzySet.ts","Felt.tsx","Række.tsx","ResultatFelt.tsx","LæsRække.tsx","Navne.tsx","Clear.tsx","GroupName.tsx","ButtonBar.tsx","ShortCuts.tsx","IpAddress.ts","RemoteState.ts","Game.tsx","index.tsx"],"names":["YatzySet","rounds","left","right","r","UpperRound","push","PatternRound","FixedRound","Round","this","l","p","roundsPlayed","playedRounds","length","i","filter","round","blank","reduce","sum","score","bonus","isTopSet","slice","topDifference","every","map","cubes","scratched","scrathed","index","element","scratch","forEach","cube","add","c","dice","pop","clear","join","toString","v","kind","pattern","bonusPoints","Array","fill","console","log","isAPreviousValue","d","includes","set","Felt","props","TableCell","onClick","sx","paddingX","paddingY","minWidth","fontSize","bgcolor","CurrentRound","align","Række","TableRow","selected","some","currentRound","color","available","Slags","FeltI","ResultatFelt","Value","LæsRække","LæsFeltI","Tal","Navn","theName","names","label","rank","behind","paddingTop","maxHeight","TextField","value","error","valid","helperText","size","onFocus","event","target","select","onChange","e","updateName","Navne","TableHead","Clear","React","open","setOpen","handleClose","MenuItem","ListItemIcon","Dialog","onClose","DialogTitle","DialogActions","Button","autoFocus","GroupName","group","setGroup","DialogContent","DialogContentText","margin","id","fullWidth","variant","defaultValue","currentGroup","screenfull","require","ButtonBar","useState","anchorEl","setAnchorEl","Boolean","AppBar","position","top","bottom","Toolbar","disableGutters","Box","flexGrow","ButtonGroup","Dice","IconButton","edge","style","backspace","currentTarget","MenuListProps","gn","groupName","isEnabled","toggle","fontFamily","diceClick","disabled","diceEnabled","ShortCuts","handlers","ONE","preventDefault","TWO","THREE","FOUR","FIVE","SIX","BACK_SPACE","NEXT","next","keyMap","address","GetIpAddress","undefined","fetch","json","ip","unsub","fbapp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","documentName","subscribe","currentState","callback","doc","onSnapshot","data","state","JSON","parse","setDoc","stringify","clearSets","sets","setRight","setLeft","then","s","Game","emptySets","YatzySets","currentSet","roundState","newState","currentPlayer","ListenToRemoteState","game","updateState","allRounds","storedSets","setCubes","setState","storeBoard","player","handleClick","ys","canBeNext","back","name","groupname","g","getState","StoreRemoteState","allCubes","statedto","className","addDice","n","Math","max","nextSet","slags","rowFunc","rowRounds","removeDice","TableContainer","component","Paper","Table","verify","TableBody","række","bonusResult","toArray","clearBoard","updateGroupName","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f18e87a.chunk.js","sourcesContent":["\r\nexport class YatzySet {\r\n    rounds: Round[];\r\n    left: YatzySet | null;\r\n    right: YatzySet | null;\r\n\r\n    constructor() {\r\n        let r: Round[] = [new UpperRound(1), new UpperRound(2), new UpperRound(3), new UpperRound(4), new UpperRound(5), new UpperRound(6)];\r\n        r.push(new PatternRound([2]));\r\n        r.push(new PatternRound([2, 2]));\r\n        r.push(new PatternRound([2, 2, 2]));\r\n        r.push(new PatternRound([3]));\r\n        r.push(new PatternRound([4]));\r\n        r.push(new PatternRound([3, 3]));\r\n        r.push(new FixedRound([1, 2, 3, 4, 5], 0));\r\n        r.push(new FixedRound([2, 3, 4, 5, 6], 0));\r\n        r.push(new FixedRound([1, 2, 3, 4, 5, 6], 9));\r\n        r.push(new PatternRound([3, 2]));\r\n        r.push(new Round());\r\n        r.push(new PatternRound([6], 100));\r\n        this.rounds = r;\r\n        this.left = null;\r\n        this.right = null;\r\n\r\n    }\r\n\r\n    setLeft(l: YatzySet) {\r\n        this.left = l;\r\n    }\r\n\r\n    setRight(r: YatzySet) {\r\n        this.right = r;\r\n    }\r\n\r\n\r\n    verify() {\r\n        let p = this.roundsPlayed();\r\n        if (this.left !== null && p !== 0) {\r\n            let l = this.left.roundsPlayed();\r\n            if (l !== p && l !== p + 1) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n\r\n        if (this.right !== null) {\r\n            let r = this.right.roundsPlayed();\r\n            if (r !== 0) {\r\n                if (r !== p - 1 && r !== p) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    roundsPlayed() {\r\n        return this.playedRounds().length;\r\n    }\r\n\r\n    round(i: number): Round {\r\n        return this.rounds[i];\r\n    }\r\n\r\n    score(): number {\r\n        return this.rounds.filter(round => !round.blank()).reduce((sum, round) => sum + round.score(), 0) + this.bonus();\r\n    }\r\n\r\n    bonus(): number {\r\n        return this.isTopSet() && this.rounds.slice(0, 6).reduce((sum, r) => sum + r.score(), 0) >= 0 ? 50 : 0;\r\n    }\r\n\r\n    topDifference(): number {\r\n        return this.rounds.slice(0,6).reduce((sum, r) => sum + (r.blank() ? 0 : r.score()), 0);\r\n    }\r\n\r\n    bonusResult(): number {\r\n       const bonus = this.bonus()\r\n       if (bonus > 0 ){\r\n        return bonus;\r\n       } else {\r\n        return this.topDifference();\r\n       }\r\n    }\r\n\r\n\r\n    isTopSet(): boolean {\r\n        const ts = this.rounds.slice(0, 6).every(round => !round.blank());\r\n        return ts;\r\n    }\r\n\r\n    playedRounds(): Round[] {\r\n        return this.rounds.filter(round => !round.blank());\r\n    }\r\n\r\n    allCubes(): RoundState[] {\r\n        return this.rounds.map(r => {\r\n            var state: RoundState = {\r\n                cubes: r.cubes,\r\n                scratched: r.scrathed\r\n\r\n            };\r\n            return state;\r\n        });\r\n    }\r\n\r\n    setCubes(rounds: RoundState[]) {\r\n        for (let index = 0; index < rounds.length; index++) {\r\n            const element = rounds[index];\r\n            if (element.scratched) {\r\n                this.rounds[index].scratch();\r\n            } else {\r\n                element.cubes.forEach(cube => {\r\n                    this.rounds[index].add(cube);\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport interface GameState {\r\n    names: string[];\r\n    rounds: RoundState[][];\r\n    currentPlayer: number;\r\n    currentRound: number;\r\n}\r\n\r\nexport interface RoundState {\r\n    cubes: number[];\r\n    scratched: boolean;\r\n}\r\n\r\nexport class Round {\r\n    cubes: number[];\r\n    scrathed: boolean;\r\n    constructor() {\r\n        this.cubes = [];\r\n        this.scrathed = false;\r\n    }\r\n\r\n    score(): number {\r\n        if (this.scrathed) {\r\n            return 0;\r\n        }\r\n        return this.cubes.reduce((sum, c) => sum + c, 0);\r\n    }\r\n\r\n    blank(): boolean {\r\n        return this.cubes.length === 0 && !this.scrathed;\r\n    }\r\n\r\n    add(dice: number) {\r\n        this.cubes.push(dice);\r\n        this.scrathed = false;\r\n\r\n    }\r\n\r\n    scratch() {\r\n        this.cubes = [];\r\n        this.scrathed = true;\r\n    }\r\n\r\n    clear() {\r\n        this.cubes = [];\r\n        this.scrathed = false;\r\n    }\r\n\r\n    back() {\r\n        this.cubes.pop();\r\n        if (this.scrathed) {\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    toArray(): string {\r\n        return this.cubes.join(\"\");\r\n    }\r\n\r\n    toString(): string {\r\n        if (this.scrathed) {\r\n            return \"X\";\r\n        }\r\n        if (this.blank()) {\r\n            return \"\\xa0\";\r\n        }\r\n        return this.score().toString();\r\n    }\r\n\r\n    bonus(): number {\r\n        return 0;\r\n    }\r\n\r\n    canBeNext(v: number): boolean {\r\n        return this.cubes.length < 6;\r\n    }\r\n\r\n    isIncomplete(): boolean {\r\n        return this.cubes.length > 0 && this.cubes.length < 6;\r\n    }\r\n}\r\n\r\nclass UpperRound extends Round {\r\n    kind: number;\r\n    constructor(kind: number) {\r\n        super();\r\n        this.kind = kind;\r\n    }\r\n\r\n    add(dice: number) {\r\n        if (dice === this.kind) {\r\n            super.add(dice)\r\n        }\r\n    }\r\n\r\n    score(): number {\r\n        return super.score() - 4 * this.kind\r\n    }\r\n\r\n    bouns(): number {\r\n        return this.score()\r\n    }\r\n\r\n    canBeNext(v: number): boolean {\r\n        return super.canBeNext(v) && v === this.kind;\r\n    }\r\n\r\n    isIncomplete(): boolean {\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\nclass PatternRound extends Round {\r\n    pattern: number[];\r\n    kind: number[];\r\n    bonusPoints: number;\r\n    index: number;\r\n    constructor(pattern: number[], bonus: number = 0) {\r\n        super();\r\n        this.pattern = pattern;\r\n        this.kind = Array(pattern.length).fill(0);\r\n        this.bonusPoints = bonus;\r\n        this.index = 0;\r\n    }\r\n\r\n    add(dice: number) {\r\n        console.log(\"Adding: \" + dice);\r\n        if (this.isAPreviousValue(dice) || this.index >= this.pattern.length) {\r\n            return;\r\n        }\r\n        for (let i = 0; i < this.pattern[this.index]; i++) {\r\n            super.add(dice);\r\n        }\r\n        this.kind[this.index] = dice;\r\n        this.index += 1\r\n    }\r\n\r\n    canBeNext(v: number): boolean {\r\n        return super.canBeNext(v) && !this.isAPreviousValue(v) && this.index < this.pattern.length\r\n    }\r\n\r\n    isAPreviousValue(d: number): boolean {\r\n        return this.kind.includes(d);\r\n    }\r\n\r\n    clear() {\r\n        super.clear()\r\n        this.kind = Array(this.pattern.length).fill(0);\r\n        this.index = 0\r\n    }\r\n\r\n    back() {\r\n        if (this.index === 0) {\r\n            this.clear();\r\n            return;\r\n        }\r\n        this.index -= 1;\r\n        this.kind[this.index] = 0;\r\n        for (let i = 0; i < this.pattern[this.index]; i++) {\r\n            super.back();\r\n        }\r\n    }\r\n\r\n    score(): number {\r\n        return (this.index === this.pattern.length ? this.bonusPoints : 0) + super.score();\r\n    }\r\n\r\n    scratch() {\r\n        this.clear()\r\n        super.scratch()\r\n    }\r\n\r\n    isIncomplete(): boolean {\r\n        return this.index !== 0 && this.index < this.pattern.length\r\n    }\r\n}\r\n\r\nclass FixedRound extends Round {\r\n    bonusPoints: number;\r\n    set: boolean;\r\n    pattern: number[];\r\n    constructor(pattern: number[], bonusPoints: number) {\r\n        super();\r\n        this.pattern = pattern;\r\n        this.bonusPoints = bonusPoints;\r\n        this.set = false;\r\n\r\n    }\r\n\r\n    add(dice: number) {\r\n        if (!this.pattern.includes(dice) || this.set) {\r\n            return\r\n        }\r\n        this.pattern.forEach(d => super.add(d));\r\n        this.set = true;\r\n    }\r\n\r\n    canBeNext(v: number): boolean {\r\n        return !this.set && this.pattern.includes(v);\r\n    }\r\n\r\n\r\n    clear() {\r\n        super.clear();\r\n        this.set = false;\r\n    }\r\n\r\n    back() {\r\n        this.pattern.forEach(d => super.back());\r\n        this.set = false;\r\n    }\r\n\r\n    scratch() {\r\n        super.scratch();\r\n        this.set = false;\r\n    }\r\n\r\n    score(): number {\r\n        return (this.set ? this.bonusPoints : 0) + super.score();\r\n    }\r\n\r\n    ssIncomplete(): boolean {\r\n        return false;\r\n    }\r\n\r\n}","import { TableCell } from '@mui/material';\r\nimport { Round } from './YatzySet'\r\n\r\nexport function Felt(props: Props) {\r\n    return (\r\n        <TableCell \r\n            onClick={props.onClick} \r\n            sx={{paddingX:0, paddingY:0, minWidth: \"10px\", fontSize: \"2.2vh\", bgcolor: props.Round === props.CurrentRound ? \"primary.main\" : null}}\r\n            align='center'\r\n            >\r\n            {props.Round?.toString()+\" \"}\r\n        </TableCell>\r\n    );\r\n}\r\n\r\n\r\ninterface Props {\r\n    onClick: () => void;\r\n    Round: Round;\r\n    CurrentRound: Round;\r\n  }\r\n\r\n","import { TableCell, TableRow } from '@mui/material';\r\nimport React from 'react';\r\nimport { Felt } from './Felt'\r\nimport { Round } from './YatzySet'\r\n\r\nexport function Række(props: Props) {\r\n    return (\r\n        <TableRow selected = {props.rounds.some(r => r === props.currentRound)}\r\n                 sx={{}}\r\n        >\r\n            <TableCell align=\"left\"\r\n                sx={{ color: props.available ? 'text.primary' : 'ghostwhite', \r\n                      paddingY:\"0px\",\r\n                      fontSize: \"2.3vh\"\r\n            }}\r\n            >\r\n                {props.Slags}\r\n            </TableCell>\r\n            {FeltI(0 , props)}\r\n            {FeltI(1 , props)}\r\n            {FeltI(2 , props)}\r\n            {FeltI(3 , props)}\r\n            {FeltI(4 , props)}\r\n            {FeltI(5 , props)}\r\n\r\n\r\n        </TableRow>\r\n\r\n    );\r\n}\r\n\r\nfunction FeltI(i: number, props: Props) {\r\n    return (\r\n        <Felt onClick={() => props.onClick(i)}\r\n            Round={props.rounds[i]}\r\n            CurrentRound={props.currentRound} />\r\n    );\r\n}\r\n\r\ninterface Props {\r\n    onClick: (i: number) => void;\r\n    rounds: Round[];\r\n    Slags: string;\r\n    available: boolean;\r\n    currentRound: Round;\r\n}\r\n","import React from 'react';\r\nimport { TableCell } from '@mui/material';\r\nexport function ResultatFelt(props: Props) {\r\n    return (\r\n            <TableCell sx={{paddingX:0, paddingY:0, minWidth: \"10px\", fontSize: \"2.2vh\", color: props.Value < 0 ? \"red\" : \"\"}}\r\n                    \r\n                    align='center'>\r\n                {props.Value}\r\n            </TableCell>\r\n    );\r\n}\r\n\r\n\r\ninterface Props {\r\n    Value: number;\r\n  }\r\n\r\n","import {ResultatFelt} from './ResultatFelt'\r\nimport { TableCell, TableRow } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport function LæsRække(props: Props) {\r\n    return (\r\n        <TableRow\r\n        >\r\n            <TableCell align=\"left\"\r\n             sx={{ paddingY:\"2px\", fontSize: \"2.2vh\"}} \r\n            >\r\n                {props.Slags}\r\n            </TableCell>\r\n            {LæsFeltI(0 , props)}\r\n            {LæsFeltI(1 , props)}\r\n            {LæsFeltI(2 , props)}\r\n            {LæsFeltI(3 , props)}\r\n            {LæsFeltI(4 , props)}\r\n            {LæsFeltI(5 , props)}\r\n\r\n\r\n        </TableRow>\r\n\r\n    );\r\n}\r\n\r\nfunction LæsFeltI(i: number, props: Props){\r\n    return <ResultatFelt Value={props.Tal[i]} />;\r\n\r\n}\r\n\r\ninterface Props {\r\n    Slags: string;\r\n    Tal: number[];\r\n  }\r\n","import { TableCell, TableHead, TableRow, TextField } from '@mui/material';\r\nimport React from 'react';\r\n\r\ninterface Props {\r\n    valid: boolean[];\r\n    names: string[];\r\n    updateName: (name: string, index: number) => void;\r\n    rank: (player: number) => number;\r\n    behind: (player: number) => number;\r\n}\r\n\r\nfunction Navn(i: number, props: Props) {\r\n    const theName = props.names[i];\r\n    const rank = props.rank(i) > 0 ? props.rank(i) : \"\"\r\n    const delta = props.behind(i) < 0 ? \" (\" + props.behind(i) + \")\" : \"\";\r\n    const label = rank  + delta;\r\n    return <TableCell sx={{ paddingX: \"2px\", paddingY: \"px\", minWidth: \"10px\", paddingTop: \"5px\", maxHeight: \"2vh\" }}>\r\n        <TextField\r\n            value={theName}\r\n            error={!props.valid[i]}\r\n            helperText={!props.valid[i] ? \"FEJL\" : \"\"}\r\n            size=\"small\"\r\n            onFocus={event => {\r\n                event.target.select();\r\n            }}\r\n            label = {label}\r\n            onChange={e => props.updateName(e.target.value, i)}\r\n\r\n        >  </TextField>\r\n    </TableCell>\r\n\r\n}\r\n\r\nexport function Navne(props: Props) {\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                <TableCell sx={{ paddingX: \"1px\", paddingY: \"0px\", minWidth: \"10px\", maxHeight: \"1vh\" }} />\r\n                {Navn(0, props)}\r\n                {Navn(1, props)}\r\n                {Navn(2, props)}\r\n                {Navn(3, props)}\r\n                {Navn(4, props)}\r\n                {Navn(5, props)}\r\n            </TableRow>\r\n        </TableHead >\r\n\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { ListItemIcon, MenuItem } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\n\r\n\r\ninterface Props {\r\n  clear: () => void;\r\n}\r\n\r\nexport default function Clear(props: Props) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuItem onClick={handleClickOpen}>\r\n        <ListItemIcon>\r\n          <DeleteIcon fontSize=\"large\" />\r\n        </ListItemIcon>\r\n      </MenuItem>\r\n\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle >\r\n          {\"Slet spil?\"}\r\n        </DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Nåhr, nej</Button>\r\n          <Button onClick={() => {props.clear(); handleClose()}} autoFocus>Ægte!</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { ListItemIcon, MenuItem, TextField } from '@mui/material';\r\nimport GroupIcon from '@mui/icons-material/Group';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\n\r\n\r\ninterface Props {\r\n  setGroup: (name: string) => void;\r\n  currentGroup: string;\r\n}\r\n\r\nexport default function GroupName(props: Props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [group, setGroup] = React.useState(\"\");\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuItem onClick={handleClickOpen}>\r\n        <ListItemIcon>\r\n          <GroupIcon fontSize=\"large\" />\r\n        </ListItemIcon>\r\n      </MenuItem>\r\n\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle >\r\n          {\"Hvilken gruppe\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Hvad kalder I den gruppe der spiller?\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            fullWidth\r\n            variant=\"standard\"\r\n            onChange={(e) => setGroup(e.target.value)}\r\n            defaultValue={props.currentGroup}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Bliv</Button>\r\n          <Button onClick={() => { props.setGroup(group); handleClose() }}>Skift</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Box from '@mui/material/Box';\r\nimport BackspaceIcon from '@mui/icons-material/Backspace';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport Button from '@mui/material/Button';\r\nimport { ButtonGroup, ListItemIcon } from '@mui/material';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\r\nimport Clear from './Clear';\r\nimport GroupName from './GroupName';\r\n\r\nconst size = \"min(6vw, 1cm)\"\r\nconst screenfull = require('screenfull');\r\n\r\nexport function ButtonBar(props: Props) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event: any) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n\r\n\r\n    };\r\n\r\n    // enabling fullscreen has to be done after some user input\r\n    const toggleFullScreen = () => {\r\n        if (screenfull.isEnabled) {\r\n            screenfull.toggle();\r\n        }\r\n    };\r\n    return (\r\n        <AppBar position=\"fixed\" color=\"primary\" sx={{ top: 'auto', bottom: 0 }}>\r\n            <Toolbar disableGutters={true}>\r\n                <Box sx={{ flexGrow: 1 }} />\r\n                <ButtonGroup variant=\"text\" size=\"small\">\r\n                    {Dice(1, props)}\r\n                    {Dice(2, props)}\r\n                    {Dice(3, props)}\r\n                    {Dice(4, props)}\r\n                    {Dice(5, props)}\r\n                    {Dice(6, props)}\r\n                    <IconButton color=\"inherit\" edge='start' onClick={() => props.scratch()}>\r\n                        <ClearIcon style={{ fontSize: size }} />\r\n                    </IconButton>\r\n                    <IconButton color=\"inherit\" edge='start' onClick={() => props.backspace()}>\r\n                        <BackspaceIcon style={{ fontSize: size }} />\r\n                    </IconButton>\r\n                    <IconButton color=\"inherit\" edge='start' onClick={handleClick}>\r\n                        <MenuIcon style={{ fontSize: size }} />\r\n                    </IconButton>\r\n                </ButtonGroup>\r\n                <Menu\r\n                    id=\"basic-menu\"\r\n                    anchorEl={anchorEl}\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    MenuListProps={{\r\n                        'aria-labelledby': 'basic-button',\r\n                    }}\r\n                >\r\n\r\n                    <GroupName setGroup={gn => {props.setGroup(gn); handleClose()}} currentGroup={props.groupName}/>\r\n                    <Clear clear={() => {props.clear(); handleClose();}} />\r\n                    <MenuItem onClick={() => { toggleFullScreen(); handleClose() }}>\r\n                        <ListItemIcon>\r\n                            <FullscreenIcon fontSize=\"large\" />\r\n                        </ListItemIcon>\r\n                    </MenuItem>\r\n                </Menu>\r\n                <Box sx={{ flexGrow: 1 }} />\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n\r\n}\r\n\r\nfunction Dice(i: number, props: Props) {\r\n    return (<Button\r\n        variant=\"contained\"\r\n        sx={{ fontSize: size, fontFamily: 'Mogens Dice' }}\r\n        onClick={() => props.diceClick(i)}\r\n        disabled={!props.diceEnabled(i)}\r\n        size='small'\r\n    >\r\n        {i}\r\n    </Button>);\r\n}\r\n\r\ninterface Props {\r\n    diceClick: (i: number) => void;\r\n    diceEnabled: (i: number) => boolean;\r\n    backspace: () => void;\r\n    scratch: () => void;\r\n    clear: () => void;\r\n    setGroup: (name: string) => void;\r\n    groupName: string;\r\n}\r\n","import React from 'react';\r\nimport { GlobalHotKeys } from 'react-hotkeys';\r\n\r\nexport function ShortCuts(props: Props) {\r\n    const keyMap = {\r\n        ONE: \"1\",\r\n        TWO: \"2\",\r\n        THREE: \"3\",\r\n        FOUR: \"4\",\r\n        FIVE: \"5\",\r\n        SIX: \"6\",\r\n        BACK_SPACE: \"del backspace\",\r\n        NEXT: \"space ctrl+m\"\r\n    };\r\n\r\n    const one : (keyEvent?: KeyboardEvent) => void = (event) => {\r\n        console.log(\"One\");\r\n        if (event) {\r\n            event.preventDefault();\r\n          }\r\n        props.diceClick(1);\r\n    };\r\n    const two = () => {\r\n        console.log(\"Two\");\r\n\r\n        props.diceClick(2);\r\n    };\r\n    const three = () => {\r\n        props.diceClick(3);\r\n    };\r\n    const four = () => {\r\n        props.diceClick(4);\r\n    };\r\n    const five = () => {\r\n        props.diceClick(5);\r\n    };\r\n    const six = () => {\r\n        props.diceClick(6);\r\n    };\r\n    const backspace = () => {\r\n        props.backspace();\r\n    };\r\n    const next = () => {\r\n        console.log(\"Next\");\r\n        props.next();\r\n    };\r\n\r\n    const handlers = {\r\n        ONE: one,\r\n        TWO: two,\r\n        THREE: three,\r\n        FOUR: four,\r\n        FIVE: five,\r\n        SIX: six,\r\n        BACK_SPACE: backspace,\r\n        NEXT: next\r\n\r\n    };\r\n    return (\r\n        <GlobalHotKeys keyMap={keyMap} handlers={handlers} />)\r\n}\r\n\r\ninterface Props {\r\n    diceClick: (i: number) => void;\r\n    // diceEnabled: (i: number) => boolean;\r\n    backspace: () => void;\r\n    // scratch: () => void;\r\n    // clear: () => void;\r\n    next: () => void;\r\n}","var address:IpAddress;\r\nexport async function GetIpAddress(): Promise<string> {\r\n    console.log(\"Getting address\");\r\n    if (address === undefined) {\r\n        address = (await (await fetch(\"https://api.ipify.org?format=json\")).json()) as IpAddress\r\n    }\r\n    console.log(\"Ip address\", address);\r\n    return address.ip;\r\n}\r\n\r\ntype IpAddress = {\r\n    ip: string;\r\n  }\r\n","\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getFirestore, setDoc, doc, onSnapshot, Unsubscribe } from 'firebase/firestore';\r\nimport { GetIpAddress } from './IpAddress';\r\nimport { GameState, RoundState } from './YatzySet';\r\n\r\nconst fbapp = initializeApp({\r\n    apiKey: \"AIzaSyDXKRP_mnNEJF5wkWkZ0fGFmPUAIZvE7Js\",\r\n    authDomain: \"mogens-357414.firebaseapp.com\",\r\n    projectId: \"mogens-357414\",\r\n    storageBucket: \"mogens-357414.appspot.com\",\r\n    messagingSenderId: \"290609839228\",\r\n    appId: \"1:290609839228:web:94a29c55cb630c9df49df9\"\r\n})\r\n\r\nconst db = getFirestore(fbapp);\r\nvar documentName = \"empty\";\r\nGetIpAddress().then(s => documentName = s);\r\nvar unsub: Unsubscribe;\r\n\r\nexport function ListenToRemoteState(callback: (game: GameState) => void) {\r\n    console.log(\"Group is IP\");     \r\n    const roundState: RoundState = {\r\n        cubes: Array<number>(0),\r\n        scratched: false\r\n    }  \r\n    const newState: GameState = {\r\n        names: Array<string>(6).fill(\"Spiller\"),\r\n        rounds: Array(6).fill(Array(17).fill(roundState)),\r\n        currentPlayer: 0,\r\n        currentRound: 0\r\n    };\r\n    console.log(\"New state: \", newState);\r\n    GetIpAddress().then(documentName => subscribe(documentName, newState, callback));\r\n}\r\n\r\nexport function ListenToRemoteStateUpdate(callback: (game: GameState) => void, currentState: GameState, groupname: string ) {\r\n        console.log(\"Group is\", groupname);\r\n        documentName = groupname;\r\n        subscribe(groupname, currentState, callback );\r\n}\r\n\r\nfunction subscribe(documentName: string, currentState: GameState, callback: (game: GameState) => void){\r\n        var d = doc(db, \"YatzySets\", documentName);\r\n        if (unsub !== undefined){\r\n            console.log(\"Already subscribed\");\r\n            unsub();\r\n        }\r\n        unsub = onSnapshot(d, (doc) => {\r\n            const data = doc.data();    \r\n            if (data === undefined) {\r\n                console.log(\"No existing document\");\r\n                \r\n                callback(currentState);\r\n                return;\r\n            }\r\n            console.log(\"Existing document: \", doc);\r\n            const state = JSON.parse(data.state) as GameState;\r\n            callback(state);\r\n\r\n        });\r\n}\r\n\r\nexport async function StoreRemoteState(state: GameState) {\r\n    await setDoc(doc(db, \"YatzySets\", documentName), { state: JSON.stringify(state) });\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { Round, YatzySet, GameState } from './YatzySet';\r\nimport { Række } from './Række';\r\nimport { LæsRække } from './LæsRække';\r\nimport { Navne } from \"./Navne\";\r\nimport { ReactElement } from 'react';\r\nimport { ButtonBar } from './ButtonBar';\r\nimport { Paper, Table, TableBody, TableContainer } from '@mui/material';\r\nimport { ShortCuts } from './ShortCuts';\r\nimport { ListenToRemoteState, ListenToRemoteStateUpdate, StoreRemoteState } from './RemoteState';\r\n\r\n\r\n\r\ninterface State {\r\n    YatzySets: YatzySet[];\r\n    currentSet: number;\r\n    currentRound: number;\r\n    names: string[];\r\n    groupName?: string;\r\n}\r\n\r\nfunction clearSets(): YatzySet[] {\r\n    let sets = Array(6).fill(null).map(() => new YatzySet());\r\n    for (let index = 1; index < sets.length; index++) {\r\n        const left = sets[index - 1];\r\n        const right = sets[index];\r\n        left.setRight(right);\r\n        right.setLeft(left);\r\n    }\r\n    return sets;\r\n}\r\n\r\n\r\nexport class Game extends React.Component<{}, State> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        let emptySets = clearSets();\r\n        const names = [\"Spiller 1\", \"Spiller 2\", \"Spiller 3\", \"Spiller 4\", \"Spiller 5\", \"Spiller 6\"];\r\n        this.state = {\r\n            YatzySets: emptySets,\r\n            currentSet: 0,\r\n            currentRound: 0,\r\n            names: names,\r\n            groupName: undefined\r\n        };\r\n\r\n        ListenToRemoteState((game: GameState) => this.updateState(game));\r\n        console.log(\"End of constructor\", this);\r\n\r\n    }\r\n\r\n    updateState(game: GameState) {\r\n        const allRounds = game.rounds;\r\n        console.log(\"As promised: \", game);\r\n\r\n        let storedSets = clearSets();\r\n        for (let index = 0; index < allRounds.length; index++) {\r\n            const element = allRounds[index];\r\n            storedSets[index].setCubes(element);\r\n        }\r\n        this.setState(\r\n            {\r\n                YatzySets: storedSets,\r\n                currentSet: game.currentPlayer,\r\n                currentRound: game.currentRound,\r\n                names: game.names\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n\r\n    handleClick(p: number, r: number) {\r\n        console.log(\"Call back player: \" + p + \" round: \" + r);\r\n        var set = this.state.YatzySets[p];\r\n        set.round(r);\r\n        const newState = {\r\n            YatzySets: this.state.YatzySets,\r\n            currentSet: p,\r\n            currentRound: r,\r\n            names: this.state.names\r\n\r\n        } as State;\r\n        this.setState(newState, () => this.storeBoard());\r\n\r\n    }\r\n\r\n    rowFunc(round: number): (p: number) => void {\r\n        return (player) => this.handleClick(player, round);\r\n    }\r\n\r\n    rowRounds(i: number): Round[] {\r\n        let result = this.state.YatzySets.map(ys => ys.round(i));\r\n        return result;\r\n    }\r\n\r\n    addDice(i: number) {\r\n        const currentRound = this.state.YatzySets[this.state.currentSet].round(this.state.currentRound);\r\n        if (currentRound.canBeNext(i)) {\r\n            currentRound.add(i);\r\n            this.setState(this.state, () => this.storeBoard());\r\n        }\r\n    }\r\n\r\n    removeDice() {\r\n        console.log(\"Back\");\r\n        const currentRound = this.state.YatzySets[this.state.currentSet].round(this.state.currentRound);\r\n        currentRound.back();\r\n        this.setState(this.state, () => this.storeBoard());\r\n    }\r\n\r\n    scratch() {\r\n        console.log(\"Scratch\");\r\n        const currentRound = this.state.YatzySets[this.state.currentSet].round(this.state.currentRound);\r\n        currentRound.scratch();\r\n        this.setState(this.state, () => this.storeBoard());\r\n    }\r\n\r\n    clearBoard() {\r\n        console.log(\"Clear board\");\r\n        const sets = clearSets();\r\n        const newState = {\r\n            YatzySets: sets,\r\n            currentSet: 0,\r\n            currentRound: 0,\r\n            names: this.state.names\r\n        } as State;\r\n        this.setState(newState, () => this.storeBoard());\r\n    }\r\n\r\n    updateName(name: string, index: number) {\r\n        const newState = { ...this.state }\r\n        newState.names[index] = name;\r\n        this.setState(newState, () => this.storeBoard());\r\n    }\r\n\r\n    updateGroupName(name: string) {\r\n        ListenToRemoteStateUpdate(g => this.updateState(g), this.getState(), name);\r\n        const newState = { ...this.state }\r\n        newState.groupName = name;\r\n        this.setState(newState);\r\n    }\r\n\r\n    storeBoard() {\r\n        console.log(\"Store board\");\r\n        const state = this.getState();\r\n        StoreRemoteState(state);\r\n    }\r\n\r\n    getState(): GameState {\r\n        const sets = this.state.YatzySets;\r\n\r\n        const rounds = sets.map(ys => ys.allCubes());\r\n        const statedto = {} as GameState;\r\n        statedto.names = this.state.names;\r\n        statedto.rounds = rounds;\r\n        statedto.currentPlayer = this.state.currentSet;\r\n        statedto.currentRound = this.state.currentRound;\r\n        return statedto;\r\n    }\r\n\r\n\r\n    terning(i: number) {\r\n        return (\r\n            <button className=\"terning\"\r\n                disabled={!this.state.YatzySets[this.state.currentSet].round(this.state.currentRound).canBeNext(i)}\r\n                onClick={() => this.addDice(i)}>,\r\n                {i}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    rank(player: number) : number {\r\n        const set = this.state.YatzySets[player];\r\n        if (set.roundsPlayed() === 0){\r\n            return -1;\r\n        }\r\n        const score = set.score();\r\n        const better =  this.state.YatzySets.reduce((n, r) =>  n + (r.roundsPlayed() > 0 && r.score() > score ? 1 : 0), 0);\r\n        return better + 1;\r\n    }\r\n\r\n    behind(player: number): number {\r\n        const set = this.state.YatzySets[player];\r\n        if (set.roundsPlayed() === 0){\r\n            return 0;\r\n        }\r\n        const score = set.score();\r\n        const max =  Math.max(...this.state.YatzySets.map(ys => ys.score()));\r\n        return score - max;\r\n    }\r\n\r\n    next() {\r\n        const currentSet = this.state.currentSet;\r\n        const nextSet = currentSet % 6;\r\n        this.setState({\r\n            YatzySets: this.state.YatzySets,\r\n            currentSet: nextSet,\r\n            currentRound: 0\r\n        });\r\n    }\r\n\r\n    række(round: number, slags: string): ReactElement {\r\n        return <Række Slags={slags}\r\n            onClick={this.rowFunc(round)} rounds={this.rowRounds(round)}\r\n            available={this.state.YatzySets[this.state.currentSet].round(round).blank()}\r\n            currentRound={this.state.YatzySets[this.state.currentSet].round(this.state.currentRound)} />;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ShortCuts diceClick={(i: number) => { this.addDice(i) }}\r\n                    // diceEnabled={i => this.state.currentRound.canBeNext(i)}\r\n                    backspace={() => this.removeDice()}\r\n                    // scratch={() => this.scratch()}\r\n                    // clear={() => this.clearBoard()}\r\n                    next={() => this.next()}\r\n                />\r\n\r\n                <TableContainer component={Paper}>\r\n                    <Table size=\"small\" sx={{ minWidth: 200 }} aria-label=\"simple table\">\r\n                        <Navne valid={this.state.YatzySets.map(ys => ys.verify())}\r\n                            names={this.state.names}\r\n                            updateName={(name, index) => this.updateName(name, index)} \r\n                            rank={player => this.rank(player)}\r\n                            behind={player => this.behind(player)}\r\n                            />\r\n                        <TableBody>\r\n                            {this.række(0, \"1\")}\r\n                            {this.række(1, \"2\")}\r\n                            {this.række(2, \"3\")}\r\n                            {this.række(3, \"4\")}\r\n                            {this.række(4, \"5\")}\r\n                            {this.række(5, \"6\")}\r\n                            <LæsRække Slags=\"Bonus\" Tal={this.state.YatzySets.map(ys => ys.bonusResult())}></LæsRække>\r\n                            {this.række(6, \"1 par\")}\r\n                            {this.række(7, \"2 par\")}\r\n                            {this.række(8, \"3 par\")}\r\n                            {this.række(9, \"3 ens\")}\r\n                            {this.række(10, \"4 ens\")}\r\n                            {this.række(11, \"2 x 3 ens\")}\r\n                            {this.række(12, \"Lav\")}\r\n                            {this.række(13, \"Høj\")}\r\n                            {this.række(14, \"Cameron\")}\r\n                            {this.række(15, \"Hus\")}\r\n                            {this.række(16, \"Chance\")}\r\n                            {this.række(17, \"Yatzy\")}\r\n                            <LæsRække Slags=\"Total\" Tal={this.state.YatzySets.map(ys => ys.score())}></LæsRække>\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <div className='nederst'>\r\n                    <div className=\"slag\">\r\n                        <div >\r\n                            {this.state.YatzySets[this.state.currentSet].round(this.state.currentRound).toArray()}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <ButtonBar diceClick={(i: number) => { this.addDice(i) }}\r\n                    diceEnabled={i => this.state.YatzySets[this.state.currentSet].round(this.state.currentRound).canBeNext(i)}\r\n                    backspace={() => this.removeDice()}\r\n                    scratch={() => this.scratch()}\r\n                    clear={() => this.clearBoard()}\r\n                    setGroup={(name) => this.updateGroupName(name)}\r\n                    groupName={this.state.groupName ?? \"\"}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Game } from './Game';\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <Game />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}