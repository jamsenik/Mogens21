(this.webpackJsonpmogens21=this.webpackJsonpmogens21||[]).push([[0],{14:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var i=n(3),s=n(4),r=n(6),a=n(5),c=n(7),u=n.n(c),l=n(9),o=n.n(l),h=(n(14),n(2)),d=n(1),b=function(){function t(e){Object(i.a)(this,t),this.playerId=e;var n=[new f(1),new f(2),new f(3),new f(4),new f(5),new f(6)];n.push(new k([2])),n.push(new k([2,2])),n.push(new k([2,2,2])),n.push(new k([3])),n.push(new k([4])),n.push(new k([3,3])),n.push(new v([1,2,3,4,5],0)),n.push(new v([2,3,4,5,6],0)),n.push(new v([1,2,3,4,5,6],9)),n.push(new k([3,2])),n.push(new j),n.push(new k([6],100)),this.rounds=n,this.left=null,this.right=null}return Object(s.a)(t,[{key:"setLeft",value:function(t){this.left=t}},{key:"setRight",value:function(t){this.right=t}},{key:"verify",value:function(){var t=this.roundsPlayed();if(null!==this.left&&0!==t){console.log("Left: "+this.left);var e=this.left.roundsPlayed();if(console.log("p: "+t+" l: "+e),e!==t&&e!==t+1)return!1}if(null!==this.right){var n=this.right.roundsPlayed();if(0!==n&&n!==t-1&&n!==t)return!1}return!0}},{key:"roundsPlayed",value:function(){return this.playedRounds().length}},{key:"round",value:function(t){return this.rounds[t]}},{key:"score",value:function(){return this.rounds.filter((function(t){return!t.blank()})).reduce((function(t,e){return t+e.score()}),0)+this.bonus()}},{key:"bonus",value:function(){return this.isTopSet()&&this.rounds.slice(0,6).reduce((function(t,e){return t+e.score()}),0)>=0?50:0}},{key:"isTopSet",value:function(){return this.rounds.slice(0,6).every((function(t){return!t.blank()}))}},{key:"playedRounds",value:function(){return this.rounds.filter((function(t){return!t.blank()}))}},{key:"anders",value:function(){return this.playerId}}]),t}(),j=function(){function t(){Object(i.a)(this,t),this.cubes=[],this.scrathed=!1}return Object(s.a)(t,[{key:"score",value:function(){return this.scrathed?0:this.cubes.reduce((function(t,e){return t+e}),0)}},{key:"blank",value:function(){return 0===this.cubes.length&&!this.scrathed}},{key:"add",value:function(t){this.cubes.push(t),this.scrathed=!1}},{key:"scratch",value:function(){this.cubes=[],this.scrathed=!0}},{key:"clear",value:function(){this.cubes=[],this.scrathed=!1}},{key:"back",value:function(){this.cubes.pop(),this.scrathed&&this.clear()}},{key:"toArray",value:function(){return this.cubes.join("")}},{key:"toString",value:function(){return this.scrathed?"X":this.blank()?"":this.score()}},{key:"bonus",value:function(){return 0}},{key:"canBeNext",value:function(t){return this.cubes.length<6}},{key:"isIncomplete",value:function(){return this.cubes.length>0&&this.cubes.length<6}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;return Object(i.a)(this,n),(s=e.call(this)).kind=t,s}return Object(s.a)(n,[{key:"add",value:function(t){t===this.kind&&Object(h.a)(Object(d.a)(n.prototype),"add",this).call(this,t)}},{key:"score",value:function(){return Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)-4*this.kind}},{key:"bouns",value:function(){return this.score()}},{key:"canBeNext",value:function(t){return Object(h.a)(Object(d.a)(n.prototype),"canBeNext",this).call(this,t)&&t===this.kind}},{key:"isIncomplete",value:function(){return!1}}]),n}(j),k=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i.a)(this,n),(s=e.call(this)).pattern=t,s.kind=Array(t.length).fill(0),s.bonus=r,s.index=0,s}return Object(s.a)(n,[{key:"add",value:function(t){if(console.log("Adding: "+t),!(this.isAPreviousValue(t)||this.index>=this.pattern.count)){for(var e=0;e<this.pattern[this.index];e++)Object(h.a)(Object(d.a)(n.prototype),"add",this).call(this,t);this.kind[this.index]=t,this.index+=1}}},{key:"canBeNext",value:function(t){return Object(h.a)(Object(d.a)(n.prototype),"canBeNext",this).call(this,t)&&!this.isAPreviousValue(t)&&this.index<this.pattern.length}},{key:"isAPreviousValue",value:function(t){return this.kind.includes(t)}},{key:"clear",value:function(){Object(h.a)(Object(d.a)(n.prototype),"clear",this).call(this),this.kind=Array(this.pattern.length).fill(0),this.index=0}},{key:"back",value:function(){if(0!==this.index){this.index-=1,this.kind[this.index]=0;for(var t=0;t<this.pattern[this.index];t++)Object(h.a)(Object(d.a)(n.prototype),"back",this).call(this)}else this.clear()}},{key:"score",value:function(){return(this.index===this.pattern.length?this.bonus:0)+Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)}},{key:"scratch",value:function(){this.clear(),Object(h.a)(Object(d.a)(n.prototype),"scratch",this).call(this)}},{key:"isIncomplete",value:function(){return 0!==this.index&&this.index<this.pattern.length}}]),n}(j),v=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,s){var r;return Object(i.a)(this,n),(r=e.call(this)).pattern=t,r.bonus=s,r.set=!1,r}return Object(s.a)(n,[{key:"add",value:function(t){var e=this;this.pattern.includes(t)&&!this.set&&(this.pattern.forEach((function(t){return Object(h.a)(Object(d.a)(n.prototype),"add",e).call(e,t)})),this.set=!0)}},{key:"canBeNext",value:function(t){return!this.set&&this.pattern.includes(t)}},{key:"clear",value:function(){Object(h.a)(Object(d.a)(n.prototype),"clear",this).call(this),this.set=!1}},{key:"back",value:function(){var t=this;this.pattern.forEach((function(e){return Object(h.a)(Object(d.a)(n.prototype),"back",t).call(t)})),this.set=!1}},{key:"scratch",value:function(){Object(h.a)(Object(d.a)(n.prototype),"scratch",this).call(this),this.set=!1}},{key:"score",value:function(){return(this.set?this.bonus:0)+Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)}},{key:"ssIncomplete",value:function(){return!1}}]),n}(j),p=n(0);function y(t){var e,n,i,s,r,a,c,u,l,o,h,d;return Object(p.jsxs)("div",{className:"r\xe6kke",children:[Object(p.jsx)("span",{className:t.available?"etiket":"etiket brugt",children:t.Slags}),Object(p.jsx)(m,{onClick:function(){return t.onClick(0)},Value:null===(e=t.rounds)||void 0===e?void 0:e[0].toString(),Valgt:t.currentRound===(null===(n=t.rounds)||void 0===n?void 0:n[0])}),Object(p.jsx)(m,{onClick:function(){return t.onClick(1)},Value:null===(i=t.rounds)||void 0===i?void 0:i[1].toString(),Valgt:t.currentRound===(null===(s=t.rounds)||void 0===s?void 0:s[1])}),Object(p.jsx)(m,{onClick:function(){return t.onClick(2)},Value:null===(r=t.rounds)||void 0===r?void 0:r[2].toString(),Valgt:t.currentRound===(null===(a=t.rounds)||void 0===a?void 0:a[2])}),Object(p.jsx)(m,{onClick:function(){return t.onClick(3)},Value:null===(c=t.rounds)||void 0===c?void 0:c[3].toString(),Valgt:t.currentRound===(null===(u=t.rounds)||void 0===u?void 0:u[3])}),Object(p.jsx)(m,{onClick:function(){return t.onClick(4)},Value:null===(l=t.rounds)||void 0===l?void 0:l[4].toString(),Valgt:t.currentRound===(null===(o=t.rounds)||void 0===o?void 0:o[4])}),Object(p.jsx)(m,{onClick:function(){return t.onClick(5)},Value:null===(h=t.rounds)||void 0===h?void 0:h[5].toString(),Valgt:t.currentRound===(null===(d=t.rounds)||void 0===d?void 0:d[5])})]})}function O(t){return Object(p.jsxs)("div",{className:"r\xe6kke",children:[Object(p.jsxs)("span",{className:"etiket",children:[" ",t.Slags]}),Object(p.jsx)(m,{Value:t.Tal[0],children:" "}),Object(p.jsx)(m,{Value:t.Tal[1],children:" "}),Object(p.jsx)(m,{Value:t.Tal[2],children:" "}),Object(p.jsx)(m,{Value:t.Tal[3],children:" "}),Object(p.jsx)(m,{Value:t.Tal[4],children:" "}),Object(p.jsx)(m,{Value:t.Tal[5],children:" "})]})}function x(t){return Object(p.jsx)("div",{className:"mellemrum"})}function g(t){return Object(p.jsxs)("div",{className:"\xf8verst",children:[Object(p.jsx)("span",{className:"etiket",children:" Navn"}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[0]?"":" fejl")}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[1]?"":" fejl")}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[2]?"":" fejl")}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[3]?"":" fejl")}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[4]?"":" fejl")}),Object(p.jsx)("input",{type:"text",className:"felt navn"+(t.valid[5]?"":" fejl")})]})}function m(t){return Object(p.jsx)("button",{onClick:t.onClick,className:t.Valgt?"felt valgt":"felt",children:t.Value})}var S=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t){var s;Object(i.a)(this,n),s=e.call(this,t);for(var r=0,a=Array(6).fill(null).map((function(){return new b(r++)})),c=1;c<a.length;c++){var u=a[c-1],l=a[c];u.setRight(l),l.setLeft(u)}return s.state={YatzySets:a,currentSet:a[0],currentRound:a[0].round(0)},s}return Object(s.a)(n,[{key:"handleClick",value:function(t,e){console.log("Call back player: "+t+" round: "+e);var n=this.state.YatzySets[t],i=n.round(e);this.setState({YatzySets:this.state.YatzySets,currentSet:n,currentRound:i})}},{key:"rowFunc",value:function(t){var e=this;return function(n){return e.handleClick(n,t)}}},{key:"rowRounds",value:function(t){return this.state.YatzySets.map((function(e){return e.round(t)}))}},{key:"addDice",value:function(t){this.state.currentRound.add(t),this.setState(this.state)}},{key:"removeDice",value:function(){console.log("Back"),this.state.currentRound.back(),this.setState(this.state)}},{key:"scratch",value:function(){console.log("Scratch"),this.state.currentRound.scratch(),this.setState(this.state)}},{key:"terning",value:function(t){var e=this;return Object(p.jsx)("button",{className:"terning",disabled:!this.state.currentRound.canBeNext(t),onClick:function(){return e.addDice(t)},children:t})}},{key:"r\xe6kke",value:function(t,e){return Object(p.jsx)(y,{Slags:e,onClick:this.rowFunc(t),rounds:this.rowRounds(t),available:this.state.currentSet.rounds[t].blank(),currentRound:this.state.currentRound})}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"blok",children:[Object(p.jsx)(g,{playerId:this.state.currentSet.anders(),valid:this.state.YatzySets.map((function(t){return t.verify()}))}),this.r\u00e6kke(0,"1"),this.r\u00e6kke(1,"2"),this.r\u00e6kke(2,"3"),this.r\u00e6kke(3,"4"),this.r\u00e6kke(4,"5"),this.r\u00e6kke(5,"6"),Object(p.jsx)(x,{}),Object(p.jsx)(O,{Slags:"Bonus",Tal:this.state.YatzySets.map((function(t){return t.bonus()}))}),Object(p.jsx)(x,{}),this.r\u00e6kke(6,"1 par"),this.r\u00e6kke(7,"2 par"),this.r\u00e6kke(8,"3 par"),this.r\u00e6kke(9,"3 ens"),this.r\u00e6kke(10,"4 ens"),this.r\u00e6kke(11,"2 x 3 ens"),this.r\u00e6kke(12,"Lav"),this.r\u00e6kke(13,"H\xf8j"),this.r\u00e6kke(14,"Cameron"),this.r\u00e6kke(15,"Hus"),this.r\u00e6kke(16,"Chance"),this.r\u00e6kke(17,"Yatzy"),Object(p.jsx)(x,{}),Object(p.jsx)(O,{Slags:"Total",Tal:this.state.YatzySets.map((function(t){return t.score()}))})]}),Object(p.jsxs)("div",{className:"nederst",children:[Object(p.jsx)("div",{className:"slag",children:this.state.currentRound.toArray()}),Object(p.jsxs)("div",{className:"knaplinje",children:[this.terning(1),this.terning(2),this.terning(3),this.terning(4),this.terning(5),this.terning(6),Object(p.jsx)("button",{className:"terning",onClick:function(){return t.scratch()},children:"X"}),Object(p.jsx)("button",{className:"terning",disabled:this.state.currentRound.blank(),onClick:function(){return t.removeDice()},children:"<"}),Object(p.jsx)(N,{})]})]})]})}}]),n}(u.a.Component),w=n(16),N=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(i.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).toggleFullScreen=function(){w.isEnabled&&w.toggle()},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){w.isEnabled&&w.on("change",(function(){}))}},{key:"render",value:function(){return Object(p.jsx)("button",{className:"terning",onClick:this.toggleFullScreen,children:"\u26f6 "})}}]),n}(u.a.Component),C=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(S,{})})}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeunload.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeunload.bind(this))}},{key:"beforeunload",value:function(t){console.log("Before unload"),t.preventDefault(),t.returnValue=!0}}]),n}(u.a.Component);o.a.render(Object(p.jsx)(C,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.caa8bba3.chunk.js.map