(this.webpackJsonpmogens21=this.webpackJsonpmogens21||[]).push([[0],{104:function(t,e,n){"use strict";n.r(e);var s=n(0),i=n.n(s),r=n(30),a=n.n(r),c=(n(93),n(26)),u=n(27),o=n(39),l=n(38),h=n(20),d=n(14),b=function(){function t(){Object(c.a)(this,t),this.rounds=void 0,this.left=void 0,this.right=void 0;var e=[new j(1),new j(2),new j(3),new j(4),new j(5),new j(6)];e.push(new k([2])),e.push(new k([2,2])),e.push(new k([2,2,2])),e.push(new k([3])),e.push(new k([4])),e.push(new k([3,3])),e.push(new v([1,2,3,4,5],0)),e.push(new v([2,3,4,5,6],0)),e.push(new v([1,2,3,4,5,6],9)),e.push(new k([3,2])),e.push(new f),e.push(new k([6],100)),this.rounds=e,this.left=null,this.right=null}return Object(u.a)(t,[{key:"setLeft",value:function(t){this.left=t}},{key:"setRight",value:function(t){this.right=t}},{key:"verify",value:function(){var t=this.roundsPlayed();if(null!==this.left&&0!==t){console.log("Left: "+this.left);var e=this.left.roundsPlayed();if(console.log("p: "+t+" l: "+e),e!==t&&e!==t+1)return!1}if(null!==this.right){var n=this.right.roundsPlayed();if(0!==n&&n!==t-1&&n!==t)return!1}return!0}},{key:"roundsPlayed",value:function(){return this.playedRounds().length}},{key:"round",value:function(t){return this.rounds[t]}},{key:"score",value:function(){return this.rounds.filter((function(t){return!t.blank()})).reduce((function(t,e){return t+e.score()}),0)+this.bonus()}},{key:"bonus",value:function(){return this.isTopSet()&&this.rounds.slice(0,6).reduce((function(t,e){return t+e.score()}),0)>=0?50:0}},{key:"isTopSet",value:function(){return this.rounds.slice(0,6).every((function(t){return!t.blank()}))}},{key:"playedRounds",value:function(){return this.rounds.filter((function(t){return!t.blank()}))}},{key:"allCubes",value:function(){return this.rounds.map((function(t){return{cubes:t.cubes,scratched:t.scrathed}}))}},{key:"setCubes",value:function(t){for(var e=this,n=function(n){var s=t[n];s.scratched?e.rounds[n].scratch():s.cubes.forEach((function(t){e.rounds[n].add(t)}))},s=0;s<t.length;s++)n(s)}}]),t}(),f=function(){function t(){Object(c.a)(this,t),this.cubes=void 0,this.scrathed=void 0,this.cubes=[],this.scrathed=!1}return Object(u.a)(t,[{key:"score",value:function(){return this.scrathed?0:this.cubes.reduce((function(t,e){return t+e}),0)}},{key:"blank",value:function(){return 0===this.cubes.length&&!this.scrathed}},{key:"add",value:function(t){this.cubes.push(t),this.scrathed=!1}},{key:"scratch",value:function(){this.cubes=[],this.scrathed=!0}},{key:"clear",value:function(){this.cubes=[],this.scrathed=!1}},{key:"back",value:function(){this.cubes.pop(),this.scrathed&&this.clear()}},{key:"toArray",value:function(){return this.cubes.join("")}},{key:"toString",value:function(){return this.scrathed?"X":this.blank()?"":this.score().toString()}},{key:"bonus",value:function(){return 0}},{key:"canBeNext",value:function(t){return this.cubes.length<6}},{key:"isIncomplete",value:function(){return this.cubes.length>0&&this.cubes.length<6}}]),t}(),j=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this)).kind=void 0,s.kind=t,s}return Object(u.a)(n,[{key:"add",value:function(t){t===this.kind&&Object(h.a)(Object(d.a)(n.prototype),"add",this).call(this,t)}},{key:"score",value:function(){return Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)-4*this.kind}},{key:"bouns",value:function(){return this.score()}},{key:"canBeNext",value:function(t){return Object(h.a)(Object(d.a)(n.prototype),"canBeNext",this).call(this,t)&&t===this.kind}},{key:"isIncomplete",value:function(){return!1}}]),n}(f),k=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(c.a)(this,n),(s=e.call(this)).pattern=void 0,s.kind=void 0,s.bonusPoints=void 0,s.index=void 0,s.pattern=t,s.kind=Array(t.length).fill(0),s.bonusPoints=i,s.index=0,s}return Object(u.a)(n,[{key:"add",value:function(t){if(console.log("Adding: "+t),!(this.isAPreviousValue(t)||this.index>=this.pattern.length)){for(var e=0;e<this.pattern[this.index];e++)Object(h.a)(Object(d.a)(n.prototype),"add",this).call(this,t);this.kind[this.index]=t,this.index+=1}}},{key:"canBeNext",value:function(t){return Object(h.a)(Object(d.a)(n.prototype),"canBeNext",this).call(this,t)&&!this.isAPreviousValue(t)&&this.index<this.pattern.length}},{key:"isAPreviousValue",value:function(t){return this.kind.includes(t)}},{key:"clear",value:function(){Object(h.a)(Object(d.a)(n.prototype),"clear",this).call(this),this.kind=Array(this.pattern.length).fill(0),this.index=0}},{key:"back",value:function(){if(0!==this.index){this.index-=1,this.kind[this.index]=0;for(var t=0;t<this.pattern[this.index];t++)Object(h.a)(Object(d.a)(n.prototype),"back",this).call(this)}else this.clear()}},{key:"score",value:function(){return(this.index===this.pattern.length?this.bonusPoints:0)+Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)}},{key:"scratch",value:function(){this.clear(),Object(h.a)(Object(d.a)(n.prototype),"scratch",this).call(this)}},{key:"isIncomplete",value:function(){return 0!==this.index&&this.index<this.pattern.length}}]),n}(f),v=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t,s){var i;return Object(c.a)(this,n),(i=e.call(this)).bonusPoints=void 0,i.set=void 0,i.pattern=void 0,i.pattern=t,i.bonusPoints=s,i.set=!1,i}return Object(u.a)(n,[{key:"add",value:function(t){var e=this;this.pattern.includes(t)&&!this.set&&(this.pattern.forEach((function(t){return Object(h.a)(Object(d.a)(n.prototype),"add",e).call(e,t)})),this.set=!0)}},{key:"canBeNext",value:function(t){return!this.set&&this.pattern.includes(t)}},{key:"clear",value:function(){Object(h.a)(Object(d.a)(n.prototype),"clear",this).call(this),this.set=!1}},{key:"back",value:function(){var t=this;this.pattern.forEach((function(e){return Object(h.a)(Object(d.a)(n.prototype),"back",t).call(t)})),this.set=!1}},{key:"scratch",value:function(){Object(h.a)(Object(d.a)(n.prototype),"scratch",this).call(this),this.set=!1}},{key:"score",value:function(){return(this.set?this.bonusPoints:0)+Object(h.a)(Object(d.a)(n.prototype),"score",this).call(this)}},{key:"ssIncomplete",value:function(){return!1}}]),n}(f),y=n(1);function p(t){var e;return Object(y.jsx)("button",{onClick:t.onClick,className:"felt"+(t.Round===t.CurrentRound?" valgt":""),children:null===(e=t.Round)||void 0===e?void 0:e.toString()})}function O(t){return Object(y.jsxs)("div",{className:"r\xe6kke",children:[Object(y.jsx)("span",{className:t.available?"etiket":"etiket brugt",children:t.Slags}),x(0,t),x(1,t),x(2,t),x(3,t),x(4,t),x(5,t)]})}function x(t,e){return Object(y.jsx)(p,{onClick:function(){return e.onClick(t)},Round:e.rounds[t],CurrentRound:e.currentRound})}function g(t){return Object(y.jsx)("button",{className:"felt",children:t.Value})}function m(t){return Object(y.jsxs)("div",{className:"r\xe6kke",children:[Object(y.jsxs)("span",{className:"etiket",children:[" ",t.Slags]}),S(0,t),S(1,t),S(2,t),S(3,t),S(4,t),S(5,t)]})}function S(t,e){return Object(y.jsx)(g,{Value:e.Tal[t].toString()})}function w(t){return Object(y.jsxs)("div",{className:"\xf8verst",children:[Object(y.jsx)("span",{className:"etiket",children:" Navn"}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[0]?"":" fejl")}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[1]?"":" fejl")}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[2]?"":" fejl")}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[3]?"":" fejl")}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[4]?"":" fejl")}),Object(y.jsx)("input",{type:"text",className:"felt navn"+(t.valid[5]?"":" fejl")})]})}function N(t){return Object(y.jsx)("div",{className:"mellemrum"})}var C=n(13),R=n(147),z=n(148),B=n(149),P=n(78),Y=n.n(P),A=n(146),E=n(77),I=n.n(E),T=n(76),D=n.n(T),L=n(150),V=n(152),J=n(141),M=n(142),F=n(144),G=n(81),H=n.n(G),X=n(80),q=n.n(X),K="min(6vw, 1.5cm)",Q=n(95);function U(t){var e=i.a.useState(null),n=Object(C.a)(e,2),s=n[0],r=n[1],a=Boolean(s),c=function(){r(null)};return Object(y.jsx)(R.a,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:Object(y.jsxs)(z.a,{disableGutters:!0,children:[Object(y.jsx)(A.a,{sx:{flexGrow:1}}),Object(y.jsxs)(V.a,{variant:"text",size:"small",children:[W(1,t),W(2,t),W(3,t),W(4,t),W(5,t),W(6,t),Object(y.jsx)(B.a,{color:"inherit",edge:"start",onClick:function(){return t.scratch()},children:Object(y.jsx)(D.a,{style:{fontSize:K}})}),Object(y.jsx)(B.a,{color:"inherit",edge:"start",onClick:function(){return t.backspace()},children:Object(y.jsx)(I.a,{style:{fontSize:K}})}),Object(y.jsx)(B.a,{color:"inherit",edge:"start",onClick:function(t){r(t.currentTarget)},children:Object(y.jsx)(Y.a,{style:{fontSize:K}})})]}),Object(y.jsxs)(M.a,{id:"basic-menu",anchorEl:s,open:a,onClose:c,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(y.jsx)(F.a,{onClick:function(){var e;e=t.clear,window.confirm("\xc6gte?")&&e(),c()},children:Object(y.jsx)(J.a,{children:Object(y.jsx)(q.a,{fontSize:"large"})})}),Object(y.jsx)(F.a,{onClick:function(){Q.isEnabled&&Q.toggle(),c()},children:Object(y.jsx)(J.a,{children:Object(y.jsx)(H.a,{fontSize:"large"})})})]}),Object(y.jsx)(A.a,{sx:{flexGrow:1}})]})})}function W(t,e){return Object(y.jsx)(L.a,{variant:"contained",sx:{fontSize:K,fontFamily:"Mogens Dice"},onClick:function(){return e.diceClick(t)},disabled:!e.diceEnabled(t),size:"small",children:t})}var Z=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(t){var s;Object(c.a)(this,n);var i=(s=e.call(this,t)).clearSets(),r=localStorage.getItem("MogensYatzy");if(null!==r){var a=JSON.parse(r);console.log("Board loaded");for(var u=0;u<a.length;u++){var o=a[u];i[u].setCubes(o)}}return s.state={YatzySets:i,currentSet:i[0],currentRound:i[0].round(0)},s}return Object(u.a)(n,[{key:"clearSets",value:function(){for(var t=Array(6).fill(null).map((function(){return new b})),e=1;e<t.length;e++){var n=t[e-1],s=t[e];n.setRight(s),s.setLeft(n)}return t}},{key:"handleClick",value:function(t,e){console.log("Call back player: "+t+" round: "+e);var n=this.state.YatzySets[t],s=n.round(e);this.setState({YatzySets:this.state.YatzySets,currentSet:n,currentRound:s})}},{key:"rowFunc",value:function(t){var e=this;return function(n){return e.handleClick(n,t)}}},{key:"rowRounds",value:function(t){return this.state.YatzySets.map((function(e){return e.round(t)}))}},{key:"addDice",value:function(t){this.state.currentRound.add(t),this.setState(this.state),this.storeBoard()}},{key:"removeDice",value:function(){console.log("Back"),this.state.currentRound.back(),this.setState(this.state),this.storeBoard()}},{key:"scratch",value:function(){console.log("Scratch"),this.state.currentRound.scratch(),this.setState(this.state),this.storeBoard()}},{key:"clearBoard",value:function(){console.log("Clear board");var t=this.clearSets();this.setState({YatzySets:t,currentSet:t[0],currentRound:t[0].round(0)}),this.storeBoard(t)}},{key:"storeBoard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("Store board"),null==t&&(t=this.state.YatzySets),localStorage.setItem("MogensYatzy",JSON.stringify(t.map((function(t){return t.allCubes()}))))}},{key:"terning",value:function(t){var e=this;return Object(y.jsx)("button",{className:"terning",disabled:!this.state.currentRound.canBeNext(t),onClick:function(){return e.addDice(t)},children:t})}},{key:"r\xe6kke",value:function(t,e){return Object(y.jsx)(O,{Slags:e,onClick:this.rowFunc(t),rounds:this.rowRounds(t),available:this.state.currentSet.rounds[t].blank(),currentRound:this.state.currentRound})}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"blok",children:[Object(y.jsx)(w,{valid:this.state.YatzySets.map((function(t){return t.verify()}))}),this.r\u00e6kke(0,"1"),this.r\u00e6kke(1,"2"),this.r\u00e6kke(2,"3"),this.r\u00e6kke(3,"4"),this.r\u00e6kke(4,"5"),this.r\u00e6kke(5,"6"),Object(y.jsx)(N,{}),Object(y.jsx)(m,{Slags:"Bonus",Tal:this.state.YatzySets.map((function(t){return t.bonus()}))}),Object(y.jsx)(N,{}),this.r\u00e6kke(6,"1 par"),this.r\u00e6kke(7,"2 par"),this.r\u00e6kke(8,"3 par"),this.r\u00e6kke(9,"3 ens"),this.r\u00e6kke(10,"4 ens"),this.r\u00e6kke(11,"2 x 3 ens"),this.r\u00e6kke(12,"Lav"),this.r\u00e6kke(13,"H\xf8j"),this.r\u00e6kke(14,"Cameron"),this.r\u00e6kke(15,"Hus"),this.r\u00e6kke(16,"Chance"),this.r\u00e6kke(17,"Yatzy"),Object(y.jsx)(N,{}),Object(y.jsx)(m,{Slags:"Total",Tal:this.state.YatzySets.map((function(t){return t.score()}))})]}),Object(y.jsx)("div",{className:"nederst",children:Object(y.jsx)("div",{className:"slag",children:this.state.currentRound.toArray()})}),Object(y.jsx)(U,{diceClick:function(e){t.addDice(e)},diceEnabled:function(e){return t.state.currentRound.canBeNext(e)},backspace:function(){return t.removeDice()},scratch:function(){return t.scratch()},clear:function(){return t.clearBoard()}})]})}}]),n}(i.a.Component);a.a.render(Object(y.jsx)(Z,{}),document.getElementById("root"))},93:function(t,e,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.ea45b06c.chunk.js.map